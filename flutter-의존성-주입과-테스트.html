<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" href="./favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- Google tag (gtag.js) -->
        <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-TQE5NFT4DN"
        ></script>
        <script>
            window.dataLayer = window.dataLayer || []
            function gtag() {
                dataLayer.push(arguments)
            }
            gtag('js', new Date())

            gtag('config', 'G-TQE5NFT4DN')
        </script>

        
		<link href="./_app/immutable/assets/0.8787021b.css" rel="stylesheet">
		<link href="./_app/immutable/assets/3.23bda755.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.adf1e4a4.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/scheduler.1916e345.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/singletons.b197ca63.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/control.f5b05b5f.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.05e86a86.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/preload-helper.a4192956.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/index.5c9dac44.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.616f7b9f.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.291c8447.js"><title>Flutter ì˜ì¡´ì„± ì£¼ì…ê³¼ í…ŒìŠ¤íŠ¸</title><!-- HEAD_svelte-ujbvpk_START --><meta name="description" content="ê°œì¸ í”„ë¡œì íŠ¸ì—ì„œ Flutter ë¡œ clean í•¨ì„ ì ìš©í•´ë³¼ ì¼ì´ ìƒê²¼ë‹¤. ì¼ë‹¨ ë°±ì—”ë“œ ì—†ì´ FireStore ë§Œ ì¨ì„œ ì§„í–‰ì¤‘ì¸ë°, ë‚˜ì¤‘ì— ë°±ì—”ë“œ í™•ì¥ì´ ë  ê²ƒ ê°™ë‹¤. ë¨¼ì € í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“ ë‹¤."><meta property="og:type" content="article"><meta property="og:title" content="Flutter ì˜ì¡´ì„± ì£¼ì…ê³¼ í…ŒìŠ¤íŠ¸"><meta property="og:image" content="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/flutter-ì˜ì¡´ì„±-ì£¼ì…ê³¼-í…ŒìŠ¤íŠ¸/2023-11-19-04-13-57.png.webp"><!-- HEAD_svelte-ujbvpk_END -->
    </head>
    <body data-sveltekit-preload-data="hover">
        <div style="display: contents">  <div class="app flex flex-col"><div class="bg-white w-full p-4 shrink-0 flex justify-between content-center border-b border-slate-200"><div class="logo" data-svelte-h="svelte-1lqcucv"><a href="/" class="font-semibold text-2xl flex flex-nowrap"><span class="tf mr-2">ğŸ¦‰</span> ê°œë°œì ëŠ˜í•œ</a></div> <nav class="flex"><a class="flex items-center py-1 px-2 hover:bg-slate-100 cursor-pointer" href="https://github.com/Neulhan" target="_blank"><img class="rounded-2xl w-6 mr-2" src="https://github.githubassets.com/assets/GitHub-Mark-ea2971cee799.png" alt="ëŠ˜í•œ ì†Œê°œ"> ì†Œê°œ </a><a class="flex items-center py-1 px-2 hover:bg-slate-100 cursor-pointer" href="https://velog.io/@neulhan" target="_blank"><img class="rounded-2xl w-6 mr-2" src="https://images.velog.io/images/wwwssj0309/post/e2262211-93c1-46a2-b72c-345c5c22a683/1.jpg" alt="ëŠ˜í•œ ì˜ˆì „ ë¸”ë¡œê·¸"> ì˜ˆì „ ë¸”ë¡œê·¸ </a></nav> </div> <main> <article class="container p-4 sm:p-12 mx-auto max-w-3xl bg-white"><div class="content-head"><div class="flex"> <h1 class="text-4xl pb-2 font-semibold"><span class="tf">ğŸ§ª</span> Flutter ì˜ì¡´ì„± ì£¼ì…ê³¼ í…ŒìŠ¤íŠ¸</h1></div> <p class="opacity-50 pb-2">2023-11-20</p></div> <div class="content-container md py-4 svelte-a35t19"><h1 data-svelte-h="svelte-1ls67hg">ë“¤ì–´ê°€ë©°</h1> <p data-svelte-h="svelte-1ll0u1k">ê°œì¸ í”„ë¡œì íŠ¸ì—ì„œ í”ŒëŸ¬í„°ë¥¼ ì‚¬ìš©ì¤‘ì¸ë° ì˜ì¡´ì„± ì£¼ì…ì„ ì ìš©í•´ë³¼ ì¼ì´ ìƒê²¼ë‹¤.</p> <p data-svelte-h="svelte-1ihjguo">ë°±ì—”ë“œë¥¼ ì§€ê¸ˆì€ FireStore ë¥¼ ì“°ê³  ìˆëŠ”ë°, ë‚˜ì¤‘ì— ì§ì ‘ ë°±ì—”ë“œ ì„œë²„ë¥¼ êµ¬ì¶•í•  ì˜ˆì •ì´ë‹¤.</p> <p><img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/flutter-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8/2023-11-19-04-13-57.png.webp" alt="flutter ì˜ì¡´ì„± ì£¼ì…"></p> <p data-svelte-h="svelte-1930b79">ì´ëŸ° ìƒí™©ì—ì„œ ì˜ëª»í•˜ë©´ ì½”ë“œê°€ ë•ì§€ë•ì§€ ë¶™ì–´ì„œ ê»Œë”±ì§€ì²˜ëŸ¼ ë–¼ì–´ë‚´ê¸°ê°€ ì–´ë ¤ì›Œì§„ë‹¤.</p> <p data-svelte-h="svelte-1e2wguf">ì´ëŸ´ ë•Œ í•„ìš”í•œê²Œ ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•œ ëŠìŠ¨í•œ ì—°ê²°.</p> <p data-svelte-h="svelte-1a19fkv">ì„œë²„ì™€ ì—°ê²°ë˜ëŠ” ë¶€ë¶„ì„ <strong>ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì •ì˜</strong>í•´ë‘ê³ , í•„ìš”ì— ë§ê²Œ ì¸í„°í˜ì´ìŠ¤ì— ë§ëŠ” êµ¬í˜„ì²´ë¥¼ <strong>ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ ì‚¬ìš©</strong>í•˜ë©´ ë‚˜ì¤‘ì— ê°„ë‹¨í•˜ê²Œ ë°±ì—”ë“œ êµì²´ê°€ ê°€ëŠ¥í•˜ë‹¤.</p> <br> <br> <h1 data-svelte-h="svelte-plwwnb">Interface</h1> <ul data-svelte-h="svelte-zlb2nc"><li>ë¨¼ì € í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“ ë‹¤.</li> <li>ì•„ì§ì€ CRUD ë§Œ ì¡´ì¬í•œë‹¤</li></ul> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">abstract</span> <span class="token keyword">interface</span> <span class="token keyword">class</span> <span class="token class-name">CapsulePackageRepo</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">CapsulePackageData</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">getCapsulePackageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CapsulePackageData</span><span class="token operator">?</span><span class="token punctuation">></span></span> <span class="token function">getCapsulePackage</span><span class="token punctuation">(</span>
      <span class="token punctuation">&#123;</span>required <span class="token class-name">CapsulePackageId</span> packageId<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">></span></span> <span class="token function">createCapsulePackage</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>required <span class="token class-name">CapsulePackageData</span> package<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">></span></span> <span class="token function">deleteCapsulePackage</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>required <span class="token class-name">CapsulePackageId</span> packageId<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">></span></span> <span class="token function">updateCapsulePackage</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>required <span class="token class-name">CapsulePackageData</span> package<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <br> <h1 data-svelte-h="svelte-17cwu8d">Implement</h1> <ul data-svelte-h="svelte-17kbztm"><li>ê·¸ë¦¬ê³  í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ repository êµ¬í˜„ì²´ë¥¼ ë§Œë“ ë‹¤.</li> <li>í˜„ì¬ëŠ” <code>FireStore</code> ë¥¼ ì‚¬ìš©ì¤‘ì´ê¸° ë•Œë¬¸ì— <code>FireStoreCapsulePackageRepo</code> ë¡œ êµ¬í˜„</li></ul> <p><img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/flutter-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8/2023-11-19-01-37-25.png.webp" alt="flutter implements"></p> <br> <h1 data-svelte-h="svelte-1koqdv5">Injectable</h1> <p data-svelte-h="svelte-4q3vsv">ì´ì œ ì˜ì¡´ì„± ì£¼ì…ì„ í•´ë³´ì.<br>
ì˜ì¡´ì„± ì£¼ì…ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” <strong><code>Injectable</code></strong> ì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆë‹¤.<br>
ì¢‹ì•„ìš” 1,000ê°œì§œë¦¬ë¼ ê±°ì˜ ê³µì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ê³  í•  ìˆ˜ ìˆë‹¤.</p> <p><img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/flutter-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8/2023-11-19-02-27-06.png.webp" alt="Injectable"></p> <br> <p data-svelte-h="svelte-1ttoaj2">ê³µì‹ë¬¸ì„œì— ë‚˜ì™€ìˆëŠ”ëŒ€ë¡œ ì„¤ì¹˜ë¥¼ í•´ì£¼ê³ ,</p> <pre class="language-yaml"><!-- HTML_TAG_START --><code class="language-yaml"><span class="token key atrule">dependencies</span><span class="token punctuation">:</span>
    <span class="token comment"># add injectable to your dependencies</span>
    <span class="token key atrule">injectable</span><span class="token punctuation">:</span>
    <span class="token comment"># add get_it</span>
    <span class="token key atrule">get_it</span><span class="token punctuation">:</span>

<span class="token key atrule">dev_dependencies</span><span class="token punctuation">:</span>
    <span class="token comment"># add the generator to your dev_dependencies</span>
    <span class="token key atrule">injectable_generator</span><span class="token punctuation">:</span>
    <span class="token comment"># add build runner if not already added</span>
    build_runner<span class="token punctuation">:</span></code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-6g81k2"><code>lib/injectable.dart</code> ì— ì•„ë˜ ì½”ë“œë¥¼ ì ì–´ì£¼ê³ </p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:get_it/get_it.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:injectable/injectable.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">final</span> getIt <span class="token operator">=</span> <span class="token class-name">GetIt</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span>

<span class="token metadata function">@InjectableInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">void</span> <span class="token function">configureDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> getIt<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-xyfrfw">ë¹Œë“œ ëŸ¬ë„ˆë„ ëŒë ¤ì£¼ê³ </p> <pre class="language-shell"><!-- HTML_TAG_START --><code class="language-shell">flutter pub run build_runner build</code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-1jkch5g"><code>lib/main.dart</code> ì— <code>configureDependencies</code> ë¥¼ í•´ì£¼ë©´ ê¸°ë³¸ ì¤€ë¹„ëŠ” ë</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token comment">// ...</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:capsule_todo_app/injectable.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
 <span class="token function">configureDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <br> <br> <h1 data-svelte-h="svelte-x0j9nd">ì˜ì¡´ì„± ì£¼ì… ì‚¬ìš©í•˜ê¸°</h1> <p data-svelte-h="svelte-17q4mqj">ë‹¤ìŒê³¼ ê°™ì´ <code>FireStoreCapsulePackageRepo</code> ë¥¼ <code>CapsulePackageRepo</code> ë¡œì„œ ì‚¬ìš©í•œë‹¤ê³  ì¨ì¤€ë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:capsule_todo_app/app/repos/interfaces.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:injectable/injectable.dart'</span></span><span class="token punctuation">;</span>

<span class="token comment">// ì—¬ê¸°</span>
<span class="token metadata function">@Injectable</span><span class="token punctuation">(</span><span class="token operator">as</span><span class="token punctuation">:</span> <span class="token class-name">CapsulePackageRepo</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">FireStoreCapsulePackageRepo</span> <span class="token keyword">implements</span> <span class="token class-name">CapsulePackageRepo</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span></code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-1isdob5">ì´ë ‡ê²Œ ì˜ì¡´ì„±ì´ ì£¼ì…ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ <code>FireStoreCapsuleRepo</code> ë¥¼ ì½”ë“œì—ì„œ ì§ì ‘ ì–¸ê¸‰í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.<br> <code>CapsuleRepo</code> ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´ë¡œ <code>FireStoreCapsuleRepo</code> ë¥¼ ì“°ê² ë‹¤ê³  ì¨ë†¨ê¸° ë•Œë¬¸ì— <code>getIt</code> ì„ í†µí•´ ì´ˆê¸°í™” í•˜ë©´ <code>FireStoreCapsuleRepo</code> ê°€ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token comment">// ì˜ì¡´ì„± ì£¼ì… í•˜ê¸° ì „</span>
<span class="token keyword">final</span> repo <span class="token operator">=</span> <span class="token class-name">FireStoreCapsuleRepo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ì˜ì¡´ì„± ì£¼ì… í›„</span>
<span class="token keyword">final</span> <span class="token class-name">CapsuleRepo</span> repo <span class="token operator">=</span> <span class="token function">getIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-l37uau">ë‚˜ì¤‘ì— ë°±ì—”ë“œê°€ ë°”ë€” ë•Œ <code>@Injectable</code> ì½”ë“œë§Œ ì˜®ê²¨ì£¼ë©´ ì‚¬ìš©ì²˜ì˜ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ ë„ ì¼ê´„ ë³€ê²½ì´ ê°€ëŠ¥í•˜ë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:capsule_todo_app/app/repos/interfaces.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:injectable/injectable.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FireStoreCapsulePackageRepo</span> <span class="token keyword">implements</span> <span class="token class-name">CapsulePackageRepo</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>

<span class="token comment">// ì—¬ê¸°</span>
<span class="token metadata function">@Injectable</span><span class="token punctuation">(</span><span class="token operator">as</span><span class="token punctuation">:</span> <span class="token class-name">CapsulePackageRepo</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">FastAPICapsulePackageRepo</span> <span class="token keyword">implements</span> <span class="token class-name">CapsulePackageRepo</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span></code><!-- HTML_TAG_END --></pre> <br> <br> <h1 data-svelte-h="svelte-15fyrui">í…ŒìŠ¤íŠ¸</h1> <p data-svelte-h="svelte-1twbz3z">ì´ê²Œ ëì´ ì•„ë‹ˆë‹¤. ëŠìŠ¨í•œ ì—°ê²°ì˜ ì§„ì§œ ì¥ì  ì¤‘ í•˜ë‚˜ëŠ” <strong>í…ŒìŠ¤íŠ¸ êµ¬í˜„ì´ ì‰¬ì›Œì§„ë‹¤ëŠ” ê²ƒ</strong>. ë‚´ì¹œê¹€ì— í…ŒìŠ¤íŠ¸ê¹Œì§€ ì‘ì„±í•´ë³´ì.</p> <p data-svelte-h="svelte-1lofsth"><code>test/repo/capsule_package_repo_test.dart</code> ë¥¼ ë§Œë“¤ì–´ì„œ í…ŒìŠ¤íŠ¸ êµ¬í˜„ì„ ì‹œì‘í•œë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token comment">// test/repo/capsule_package_repo_test.dart</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token class-name">TestWidgetsFlutterBinding</span><span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// environment ë¥¼ test ë¡œ ì„¤ì •</span>
  globals<span class="token punctuation">.</span>environment <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">globals<span class="token punctuation">.</span></span>EnvironmentEnum</span><span class="token punctuation">.</span>test<span class="token punctuation">;</span>
  <span class="token comment">// Injectable config</span>
  <span class="token function">configureDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test ì—ì„œ ì‚¬ìš©í•  State</span>
  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CapsulePackageData</span><span class="token punctuation">></span></span> createdPackageList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// Repo ë¥¼ ì´ˆê¸°í™”</span>
  late <span class="token keyword">final</span> <span class="token class-name">CapsulePackageRepo</span> capsulePackageRepo <span class="token operator">=</span> <span class="token function">getIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//...</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-16fyypr"><code>environment</code> ë¥¼ test ë¡œ ì„¤ì •í•œë‹¤.</p> <p data-svelte-h="svelte-cpq2oi">test ë¡œ ì„¤ì •ë˜ë©´ <code>FireStoreCapsulePackageRepo</code> ê°€ ë‚´ë¶€ì ìœ¼ë¡œ <code>FakeFireStore</code> ë¥¼ ì‚¬ìš©í•˜ë„ë¡ êµ¬í˜„í•´ë†¨ë‹¤.</p> <p data-svelte-h="svelte-fbtxzx">ë‚˜ì¤‘ì— ë‹¤ë¥¸ ë°±ì—”ë“œì˜ ë ˆí¬ì§€í† ë¦¬ë¥¼ êµ¬í˜„í•  ë•Œì—ë„, ìƒì„±ì ë‚´ë¶€ì—ì„œ í™˜ê²½ì— ë”°ë¼ ë‹¤ë¥¸ client ë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token metadata function">@Injectable</span><span class="token punctuation">(</span><span class="token operator">as</span><span class="token punctuation">:</span> <span class="token class-name">CapsuleRepo</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">FireStoreCapsuleRepo</span> <span class="token keyword">implements</span> <span class="token class-name">CapsuleRepo</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">final</span> <span class="token class-name">FirebaseFirestore</span> instance<span class="token punctuation">;</span>

  <span class="token class-name">FireStoreCapsuleRepo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">:</span> instance <span class="token operator">=</span> globals<span class="token punctuation">.</span>environment <span class="token operator">==</span> <span class="token class-name"><span class="token namespace">globals<span class="token punctuation">.</span></span>EnvironmentEnum</span><span class="token punctuation">.</span>prod
            <span class="token operator">?</span> <span class="token class-name">FirebaseFirestore</span><span class="token punctuation">.</span>instance
            <span class="token punctuation">:</span> <span class="token class-name">FakeFirebaseFirestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-1m5d6c0">create repo í…ŒìŠ¤íŠ¸</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'createCapsulePackage'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">final</span> package <span class="token operator">=</span> <span class="token class-name">CapsulePackageData</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      name<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"TEST PACKAGE"</span></span><span class="token punctuation">,</span>
      description<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"DESCRIPTION"</span></span><span class="token punctuation">,</span>
      color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>
      userId<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"TEST USER"</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">createCapsulePackage</span><span class="token punctuation">(</span>package<span class="token punctuation">:</span> package<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> result <span class="token operator">=</span>
        <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">getCapsulePackage</span><span class="token punctuation">(</span>packageId<span class="token punctuation">:</span> package<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> package<span class="token punctuation">)</span><span class="token punctuation">;</span>
    createdPackageList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>package<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">&#125;</span>
</code><!-- HTML_TAG_END --></pre> <br> <p data-svelte-h="svelte-vut832">ë‹¤ë¥¸ ë©”ì„œë“œ êµ¬í˜„ë„ í…ŒìŠ¤íŠ¸í•œë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//...</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'getCapsulePackage'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">final</span> first <span class="token operator">=</span> createdPackageList<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
    <span class="token keyword">final</span> result <span class="token operator">=</span>
        <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">getCapsulePackage</span><span class="token punctuation">(</span>packageId<span class="token punctuation">:</span> first<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'getCapsulePackageList'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">final</span> result <span class="token operator">=</span> <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">getCapsulePackageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>createdPackageList<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'deleteCapsulePackage'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">deleteCapsulePackage</span><span class="token punctuation">(</span>
        packageId<span class="token punctuation">:</span> createdPackageList<span class="token punctuation">.</span>first<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    createdPackageList
        <span class="token punctuation">.</span><span class="token function">removeWhere</span><span class="token punctuation">(</span><span class="token punctuation">(</span>package<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> package<span class="token punctuation">.</span>id <span class="token operator">==</span> createdPackageList<span class="token punctuation">.</span>first<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> result <span class="token operator">=</span> <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">getCapsulePackageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>createdPackageList<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
</code><!-- HTML_TAG_END --></pre> <br><br> <p data-svelte-h="svelte-1v187jn">ì´ë ‡ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬ì„±í•˜ë©´ ë‚˜ì¤‘ì— ë‹¤ë¥¸ Repository ë¥¼ ë³€ê²½í•´ë„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</p> <p data-svelte-h="svelte-89vxm8">ë‚˜ì¤‘ì— ì•„ë˜ì™€ ê°™ì´ Injectable ì—ì„œ ì–´ë–¤ êµ¬í˜„ì²´ë¥¼ ì“¸ì§€ë§Œ ë°”ê¿”ì£¼ë©´ <strong>ìƒˆ êµ¬í˜„ì²´ê°€ ì˜ ì‘ì„±ë˜ì—ˆëŠ”ì§€ í…ŒìŠ¤íŠ¸</strong>ë„ ìë™ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:capsule_todo_app/app/repos/interfaces.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:injectable/injectable.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FireStoreCapsulePackageRepo</span> <span class="token keyword">implements</span> <span class="token class-name">CapsulePackageRepo</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span>

<span class="token metadata function">@Injectable</span><span class="token punctuation">(</span><span class="token operator">as</span><span class="token punctuation">:</span> <span class="token class-name">CapsulePackageRepo</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">FastAPICapsulePackageRepo</span> <span class="token keyword">implements</span> <span class="token class-name">CapsulePackageRepo</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// ...</span></code><!-- HTML_TAG_END --></pre> <br> <br> <h1 data-svelte-h="svelte-1e19bhm">Eqautable</h1> <p data-svelte-h="svelte-15pwcl7">ìŠì„ ë»” í–ˆëŠ”ë° ë°©ê¸ˆ ì‘ì„±ëœ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ê²Œ í•´ì¤€ê±´ <code>Equatable</code> ì´ë¼ëŠ” íŒ¨í‚¤ì§€ ë•ë¶„ì´ë‹¤.
dart ì—ì„œëŠ” equal ë©”ì„œë“œì™€ hashcode ë©”ì„œë“œë¥¼ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ê¸°ê°€ ì–´ë µë‹¤.</p> <p data-svelte-h="svelte-lukxb6">ì´ íŒ¨í‚¤ì§€ë„ like ê°€ 2,700ê°œ ê°€ê¹Œì´ ë˜ëŠ” ê·¼ë³¸ íŒ¨í‚¤ì§€ì´ë‹¤.</p> <p><img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/flutter-%EC%9D%98%EC%A1%B4%EC%84%B1-%EC%A3%BC%EC%9E%85%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8/2023-11-19-23-53-23.png.webp" alt="equatable"></p> <h3 data-svelte-h="svelte-16a04nc">ì‚¬ìš©ë²•</h3> <p data-svelte-h="svelte-h5tz3i">ëª¨ë¸ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” í´ë˜ìŠ¤ê°€ <code>Equatable</code> ì„ ìƒì†ë°›ë„ë¡ í•œ ë‹¤ìŒ <code>props</code> ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì£¼ë©´ëœë‹¤.</p> <p data-svelte-h="svelte-dppyiz"><code>props</code> ì— ì íŒ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§€ê³  hashcode ë¥¼ ë§Œë“¤ê¸° ë•Œë¬¸ì—, ì—¬ê¸° ì íŒ í”„ë¡œí¼í‹°ë“¤ì˜ ê°’ë§Œ ë™ì¼í•˜ë©´ ë‚˜ì¤‘ì— ë¹„êµí•  ë•Œ ê°™ì€ ê°ì²´ë¡œ ì·¨ê¸‰ëœë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CapsulePackageData</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//...</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> description<span class="token punctuation">,</span> createdAt<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-i3n2qq">ê·¸ëŸ¼ ì•„ë˜ì²˜ëŸ¼ ê°ì²´ê°„ ë¹„êµê°€ ê°€ëŠ¥í•˜ê²Œ í•´ì¤˜ì„œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸°ê°€ ë§¤ìš° í¸í•´ì§„ë‹¤.</p> <pre class="language-dart"><!-- HTML_TAG_START --><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">//...</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'getCapsulePackage'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">final</span> <span class="token class-name">CapsulePackageData</span> first <span class="token operator">=</span> createdPackageList<span class="token punctuation">.</span>first<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">CapsulePackageData</span> result <span class="token operator">=</span>
        <span class="token keyword">await</span> capsulePackageRepo<span class="token punctuation">.</span><span class="token function">getCapsulePackage</span><span class="token punctuation">(</span>packageId<span class="token punctuation">:</span> first<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// CapsulePackageData ë¼ë¦¬ì˜ ë¹„êµ</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//...</span>
<span class="token punctuation">&#125;</span>
</code><!-- HTML_TAG_END --></pre> <br><br> <h1 data-svelte-h="svelte-1hmxnju">ë§ˆë¬´ë¦¬</h1> <p data-svelte-h="svelte-w28h4e">ë!</p> </div> <hr> <div class="flex justify-between flex-col sm:flex-row sm:content-start"><button data-svelte-h="svelte-1anfkcs"><span class="tf">ğŸ‘ˆ</span> ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button> <button class="sm:mt-0 mt-2 relative" data-svelte-h="svelte-wc677q"><span class="tf pointer-events-none">ğŸ˜</span> ë¶€ì¡±í•œ ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤</button></div> <hr> <div data-svelte-h="svelte-ofcyfb"><script src="https://giscus.app/client.js" data-repo="Neulhan/Neulhan" data-repo-id="MDEwOlJlcG9zaXRvcnkyODc0NzE2OTA=" data-category="Announcements" data-category-id="DIC_kwDOESJ4Ss4CeXnk" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="ko" data-loading="lazy" crossorigin="anonymous" async></script></div></article></main> </div> 
			
			<script>
				{
					__sveltekit_a1n8bb = {
						base: new URL(".", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("./_app/immutable/entry/start.adf1e4a4.js"),
						import("./_app/immutable/entry/app.05e86a86.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
    </body>
</html>
