import{s as nn,y as pl,z as Kl,n as sn}from"./scheduler.683807b4.js";import{S as pn,i as an,r as _,u as h,v as I,d as G,t as x,w as C,g as i,s as p,H as Vl,h as s,x as o,c as a,j as S,f as e,B as Xl,k as Yl,a as n}from"./index.949589b5.js";import{M as on,g as un,a as Zl}from"./mdsvex.35f0d827.js";import{I as w}from"./img.99105116.js";function rn(mt){let u,c="개요",v,m,r=`예전에 fastapi 소개글을 썼었는데, 그 과정에서 ASGI 에 흥미로움을 느껴서 정리해봤다.
WSGI 와 ASGI 의 역사와 흥미로운 사실들을 알아보자.`,f,b,al="WSGI",xt,$,ol="일단 WSGI 는 뭘까.",Ct,g,ul='<li>Web Server 와 Python Application 이 서로 통신하려면?<ul><li>여기서 말하는 Web Server 는 Web Application Server 가 아닌 Nginx, Apache HTTPd 와 같은 Web Server.</li></ul></li> <li>Java 진영에서는 서블렛 API가 Web Server 와 Java Application 을 연결해준다</li> <li>Python 진영에는 한동안 공식 인터페이스가 없어서 mod_python, Medusa, FastCGI 등 일관되지 않은 방식을 사용</li> <li><strong>Web Server 와 Python Application 이 소통하는 일관된 방식</strong>이 필요하다는 인식하에 <a href="https://peps.python.org/pep-0333/" rel="nofollow">PEP-333</a> 에서 Interface 를 정의</li> <li>그것이 WSGI (Web Server Gateway Interface)<ul><li>2003.12.07 - 무려 python2 일 때 정의된 interface</li> <li>이후 python3 가 나와서 수정된 <a href="https://peps.python.org/pep-3333/" rel="nofollow">PEP-3333</a> 이 바로 WSGI 라고 할 수 있다.</li></ul></li> <li>Django, Flask 등의 프레임워크는 WSGI 에 맞춰 인터페이스를 구현해놨다.</li>',wt,vt,k,$t,gt,kt,A,rl="WSGI 의 구조",At,y,fl="아래는 WSGI 에 부합하는 Application 구현 예시이다.",yt,H,Ht,en=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">simple_app</span><span class="token punctuation">(</span>environ<span class="token punctuation">,</span> start_response<span class="token punctuation">)</span><span class="token punctuation">:</span>
    status <span class="token operator">=</span> <span class="token string">'200 OK'</span>
    response_headers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Content-type'</span><span class="token punctuation">,</span> <span class="token string">'text/plain'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    start_response<span class="token punctuation">(</span>status<span class="token punctuation">,</span> response_headers<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">b"Hello world!&#92;n"</span><span class="token punctuation">]</span></code>`,Wt,W,ml="<li>environ(dict), start_response 라는 2개의 positional argument 을 가진 callable 한 형식으로 어플리케이션을 구현</li> <li><strong>request, response 를 묶어서 하나의 블럭 단위로 동작.</strong></li> <li>Streaming 기능을 구현하려면 OS 에 넘기거나, 스레딩으로 처리. 블럭 전송이 지연되어서는 안 됨.</li>",Lt,Mt,Tt,Pt,Rt,L,vl="WSGI 에 무슨 문제가 있었을까?",jt,M,bl="<li>WSGI는 동기적으로 동작하는 Request-Response 구조를 가졌다.</li> <li><strong>websocket 과 같은 long-live connection 스펙이 고려되지 않았다.</strong></li> <li>2003년에 정의된 인터페이스라서, 2011년에 표준화된 WebSocket 을 지원할 수 없었던 것.</li> <li>또한 python3.5 에서 async 지원이 본격화 되면서, 이에 맞는 새 규격이 필요해지기도 했다.</li>",Bt,Et,Dt,zt,qt,T,Sl="ASGI 의 등장",Ut,P,cl='<li>위와 같은 WSGI 의 <strong>한계를 해결하기 위해 ASGI 가 등장</strong><ul><li>2015년 11월 13일 : python3.5 가 나오면서 async await 추가<ul><li>python 진영이 본격적으로 비동기를 구현하면서 ASGI 의 발판이 마련됨</li></ul></li> <li>2015년 12월 24일 : Django 측 개발자인 <a href="https://github.com/andrewgodwin" rel="nofollow">Andrew Godwin</a> 이 asgiref 의 첫 커밋을 작성</li> <li>2018년 : <a href="https://github.com/django/asgiref" rel="nofollow">asgiref</a> 레포에서 ASGI 버전 1을 릴리즈, ASGI 팀이 공식적으로 등장</li></ul></li> <li>재미있는 사실은 ASGI 를 정의하고 있는 곳이 django 조직에 있는 <a href="https://github.com/django/asgiref" rel="nofollow">asgiref</a> 레포지토리라는 것. (Django 가 근본이야!)</li> <li><strong>Asyncronous Server Gateway Interface</strong><ul><li>AWSGI 가 아닌 ASGI</li> <li>웹서버에 한정짓지 않겠다는 의지</li></ul></li>',Ft,bt,R,dt,Ot,Jt,St,j,Nt,Qt,Kt,B,_l='<li>ASGI 는 WSGI 의 정신을 계승했다.</li> <li><strong>WSGI 의 슈퍼셋으로 설계되었기 때문에, WSGI 어플리케이션도 ASGI 서버 내부에서 실행 가능</strong>.<ul><li>이 경우 두 인터페이스 사이에 wrapper 가 필요 (asgiref 라이브러리에서 제공)</li> <li>async event loop 에서 WSGI 어플리케이션을 실행할 때는 threadpool 을 사용</li></ul></li> <li>덕분에 WSGI 를 사용하던 여러 프레임워크들도 ASGI로의 전환을 비교적 쉽게 가져갈 수 있었다.<ul><li>Django 는 3.0 부터 ASGI 를 지원하기 시작. (2019.12.02)</li> <li>동기적으로 작성된 수많은 코드를 async 로 변경할 수 없었기에 일단 <a href="https://github.com/django/asgiref" rel="nofollow">asgiref</a> 에서 제공하는 <code>sync_to_async</code> 함수를 이용</li> <li>Django 4.1 부터는 <code>MyModel.objects.asave()</code> <code>MyModel.objecst.aget()</code> 과 같이 ORM 에서 직접 async 지원이 추가 (2022.08.03)</li></ul></li>',Vt,Xt,Yt,Zt,te,E,hl="ASGI 의 동작 방식",ee,D,Il=`연결에 대한 세부정보(scope),<br/>
클라이언트에서 메세지를 받아오는 부분(receive)과<br/>
클라이언트에 메세지를 보내는 부분(send) 으로 구성되어있다.`,le,ct,z,ne,ie,se,q,Gl="덕분에 어플리케이션에 여러개의 이벤트들이 동시에 왔다갔다 할 수 있어졌고, 심지어 redis 큐와 같은 외부 트리거에서 이벤트 수신 대기도 가능.",pe,ae,oe,ue,re,U,xl="ASGI Server",fe,F,Cl=`ASGI 는 인터페이스. 실제로 동작할려면 구현된 서버가 필요.<br/>
대표적으로 Uvicorn, Daphne, Hypercorn 이 있다.`,me,d,wl="1. Uvicorn",ve,_t,O,be,Se,ce,J,$l='<li>uvicorn 은 ASGI 기반의 웹 서버 구현체.</li> <li>현재 http1.1 과 websocket 을 지원한다.</li> <li>약간 의아한건 uvicorn 이 아직 HTTP/2 를 지원하지 않는다는 것.</li> <li>HTTP/2 지원은 같은 ASGI 생태계의 daphne 와 hypercorn 에게 양보하고, uvicorn 은 <strong>견고함, 안정적임</strong>을 지향하고 있다는 듯.</li> <li><a href="https://github.com/tomchristie" rel="nofollow">Tom Christie</a> 가 encode Organization 에서 개발<ul><li>이 아저씨는 encode 에서 drf, uvicorn, starlette, apistar(FastAPI 의 전신) 개발을 주도.</li></ul></li>',_e,N,gl="uvloop",he,Q,kl=`uvicorn 은 내부에서 uvloop 라는 것을 사용하는데, 이는 <strong>python 의 asyncio 를 대체</strong>함.<br/>
nodejs 에서 사용하는 다중 플랫폼 비동기 I/O 라이브러리(<strong>libuv</strong>) 위에 <strong>cython</strong> 으로 구현됨.`,Ie,K,Ge,ln=`<code class="language-python"><span class="token keyword">import</span> uvloop

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># Main entry-point.</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

uvloop<span class="token punctuation">.</span>run<span class="token punctuation">(</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,xe,Ce,we,V,Al=`벤치마크로 보면 다른 Python 비동기 프레임 워크보다 2~4배 이상 빠르다.<br/>
벤치마크 성능상으로만 본다면, uvloop 의 성능은 Node 보다 빠르고, <strong>Go 프로그램의 성능에 가까울 정도</strong>.`,$e,ht,X,ge,ke,Ae,ye,He,Y,yl="2. Daphne",We,It,Z,Le,tt,Hl='<li>Django 진영의 ASGI 서버</li> <li>Django Channels 를 지원하기 위해서 구현됨.<ul><li>Django 진영 소속. Django 코어 개발자인 <a href="https://github.com/andrewgodwin" rel="nofollow">Andrew Godwin</a> 이 대부분 구현.</li> <li>channels 도 이 아저씨가 만듬.</li></ul></li> <li>Http/2 를 지원</li>',Me,Te,Pe,Re,je,et,Wl="3. Hypercorn",Be,Gt,lt,Ee,nt,Ll="<li>Flask 진영의 ASGI 서버</li> <li>무려 Http/1.1, Http/2, <strong>Http/3</strong>를 지원</li> <li>python 비동기 웹 프레임워크인 Quart 의 일부였다가, fork 된 후 자체적으로 개발중.</li> <li>이 corn 은 유니콘이 아니라 무려 옥수수의 corn</li>",De,ze,qe,Ue,Fe,it,Ml="ASGI 기반의 프레임워크",de,st,Tl=`ASGI 서버 위에 올려서 개발자들의 생산성을 올려주는 프레임워크들.<br/>
보통 홀로서기하기보다 ASGI 서버 위에 올려서 많이 사용한다.`,Oe,pt,Pl=`ASGI 라는 표준을 맞췄기 때문에, uvicorn, daphne, hypercorn 무엇을 쓰던 잘 돌아가긴 한다.<br/>
다만 진영에 따라서 자기 진영의 ASGI 서버를 권장하기는 한다.`,Je,at,Rl='<li><strong>FastAPI</strong><ul><li>Starlette 위에 Pydantic 을 버무린 프레임워크</li> <li>생산성의 측면에서 각광받아서 현재는 제일 주류 Python 웹 프레임워크가 아닌가 싶다.</li> <li>Starlette 의 영향을 받아서 uvicorn 과 친하다.</li></ul></li> <li><strong>Django Channels</strong><ul><li>Django 에서 WebSocket 을 지원한다.</li> <li>주로 Daphne 와 같이 쓴다.</li> <li>ASGI 를 고안한 <a href="https://github.com/andrewgodwin" rel="nofollow">Andrew Godwin</a> 이 직접 만들어서 근본이 넘친다</li></ul></li> <li><strong>Quart</strong><ul><li>Flask 진영의 비동기 프레임워크</li> <li>같은 패밀리인 Hypercorn 과 같이 쓰길 권장하는 듯 하다.</li></ul></li> <li><strong>Starlette</strong><ul><li>FastAPI 의 근본이 되는 프레임워크.</li> <li>DRF, uvicorn 을 만든 <a href="https://github.com/tomchristie" rel="nofollow">Tom Christie</a> 가 만들어서 근본력이 남다르다.</li></ul></li> <li><strong>Sanic</strong><ul><li>ASGI 서버를 내장하고 있는 프레임워크</li> <li>nginx 같은 웹서버에 바로 꽂을 수 있다는 점이 매력적</li> <li>ASGI 인터페이스를 준수하기 때문에 다른 ASGI 서버랑 같이 쓸 수도 있다</li></ul></li> <li><strong>Falcon</strong><ul><li>마이크로 서비스를 위한 미니멀리즘 프레임워크.</li> <li>나름의 미니멀한 매력이 있어서 쓰는 곳이 있다는 소문을 들었다.</li></ul></li>',Ne,Qe,Ke,Ve,Xe,ot,jl="WSGI 에서 ASGI 로 바꿔야 하나요?",Ye,ut,Bl="<li>프로젝트를 새로 판다면, 처음부터 ASGI 서버와 함께 비동기로 구현을 하는 것이 좋을듯.</li> <li>대신 잘못 쓰면 문제가 생길수도 있다. <del>(뭐든 안 그렇겠냐만은..)</del><ul><li>예전에 회사에서 FastAPI 를 쓰는데, 간헐적으로 요청이 끊어지는 현상 발생.</li> <li>ASGI 서버를 사용했지만, 함수들은 동기식으로 구현된 상태.</li> <li>레이턴시가 높은 API 일부를 async 로 바꾸었더니 바로 증상이 호전.</li> <li>결국 시간을 들여 모든 API 를 async 로 바꾸었더니 문제가 해결.</li> <li>ASGI 가 좋은 기술인건 맞지만 async 환경에 익숙하지 않다면 서버가 불안정해질수도 있다.</li> <li><del>그 땐 잘 몰랐어서..</del></li></ul></li> <li>WSGI 로 잘 돌아가고 있다면, 성능향상을 목표로 ASGI 로 바꾸는 건 글쎄.<ul><li>이미 WSGI 환경에서 성능 최적화가 잘 되어있을 수 있음. (celery, caching 등)</li> <li>gunicorn 같은 잘 검증된 환경은 국밥같은 든든함과 견고함이 있다.</li></ul></li> <li>WebSocket 기능이 필요하다면?<ul><li>Django 에는 웹소켓 사용 부분은 ASGI, 기존 부분은 WSGI 로 각각 배포하는 방법도 있음.</li> <li>다만 정말 WebSocket 기능이 필요한지는 스펙 체크를 잘 해볼 것.</li> <li>WebSocket 이라는 스펙이 오버엔지니어링일 수도.</li> <li>작은 채팅 기능이라면 클라이언트에서 서버에 일정 시간마다 요청을 보내서 새 채팅이 있는지 확인하는 식으로도 구현이 가능했다</li></ul></li>",Ze,tl,el,ll,nl,rt,El="참고자료",il,ft,Dl='<li><a href="https://peps.python.org/pep-3333/" rel="nofollow">https://peps.python.org/pep-3333/</a></li> <li><a href="https://github.com/django/asgiref" rel="nofollow">https://github.com/django/asgiref</a></li> <li><a href="https://asgi.readthedocs.io/en/latest/introduction.html" rel="nofollow">https://asgi.readthedocs.io/en/latest/introduction.html</a></li> <li><a href="https://www.uvicorn.org/" rel="nofollow">https://www.uvicorn.org/</a></li> <li><a href="https://github.com/MagicStack/uvloop" rel="nofollow">https://github.com/MagicStack/uvloop</a></li> <li><a href="https://www.fullstackpython.com/wsgi-servers.html" rel="nofollow">https://www.fullstackpython.com/wsgi-servers.html</a></li>',sl;return k=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-13-00-32-49.png",alt:"WSGI"}}),R=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-13-19-10-59.png",alt:"asgiref"}}),j=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-12-23-53-00.png",alt:"asgi"}}),z=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-12-23-55-59.png",alt:"asgi work"}}),O=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-13-00-00-32.png",alt:"uvicorn"}}),X=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-13-16-17-54.png",alt:"uvloop benchmark"}}),Z=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-13-16-12-03.png",alt:"daphne"}}),lt=new w({props:{src:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-%EC%99%80-ASGI/2023-11-13-16-12-43.png",alt:"hypercorn"}}),{c(){u=i("h1"),u.textContent=c,v=p(),m=i("p"),m.textContent=r,f=p(),b=i("h1"),b.textContent=al,xt=p(),$=i("p"),$.textContent=ol,Ct=p(),g=i("ul"),g.innerHTML=ul,wt=p(),vt=i("p"),_(k.$$.fragment),$t=p(),gt=i("br"),kt=p(),A=i("h2"),A.textContent=rl,At=p(),y=i("p"),y.textContent=fl,yt=p(),H=i("pre"),Ht=new Vl(!1),Wt=p(),W=i("ul"),W.innerHTML=ml,Lt=p(),Mt=i("br"),Tt=p(),Pt=i("br"),Rt=p(),L=i("h2"),L.textContent=vl,jt=p(),M=i("ul"),M.innerHTML=bl,Bt=p(),Et=i("br"),Dt=p(),zt=i("br"),qt=p(),T=i("h1"),T.textContent=Sl,Ut=p(),P=i("ul"),P.innerHTML=cl,Ft=p(),bt=i("p"),_(R.$$.fragment),dt=p(),Ot=i("br"),Jt=p(),St=i("p"),_(j.$$.fragment),Nt=p(),Qt=i("br"),Kt=p(),B=i("ul"),B.innerHTML=_l,Vt=p(),Xt=i("br"),Yt=p(),Zt=i("br"),te=p(),E=i("h2"),E.textContent=hl,ee=p(),D=i("p"),D.innerHTML=Il,le=p(),ct=i("p"),_(z.$$.fragment),ne=p(),ie=i("br"),se=p(),q=i("p"),q.textContent=Gl,pe=p(),ae=i("br"),oe=p(),ue=i("br"),re=p(),U=i("h2"),U.textContent=xl,fe=p(),F=i("p"),F.innerHTML=Cl,me=p(),d=i("h3"),d.textContent=wl,ve=p(),_t=i("p"),_(O.$$.fragment),be=p(),Se=i("br"),ce=p(),J=i("ul"),J.innerHTML=$l,_e=p(),N=i("h4"),N.textContent=gl,he=p(),Q=i("p"),Q.innerHTML=kl,Ie=p(),K=i("pre"),Ge=new Vl(!1),xe=p(),Ce=i("br"),we=p(),V=i("p"),V.innerHTML=Al,$e=p(),ht=i("p"),_(X.$$.fragment),ge=p(),ke=i("br"),Ae=p(),ye=i("br"),He=p(),Y=i("h3"),Y.textContent=yl,We=p(),It=i("p"),_(Z.$$.fragment),Le=p(),tt=i("ul"),tt.innerHTML=Hl,Me=p(),Te=i("br"),Pe=p(),Re=i("br"),je=p(),et=i("h3"),et.textContent=Wl,Be=p(),Gt=i("p"),_(lt.$$.fragment),Ee=p(),nt=i("ul"),nt.innerHTML=Ll,De=p(),ze=i("br"),qe=p(),Ue=i("br"),Fe=p(),it=i("h2"),it.textContent=Ml,de=p(),st=i("p"),st.innerHTML=Tl,Oe=p(),pt=i("p"),pt.innerHTML=Pl,Je=p(),at=i("ul"),at.innerHTML=Rl,Ne=p(),Qe=i("br"),Ke=p(),Ve=i("br"),Xe=p(),ot=i("h1"),ot.textContent=jl,Ye=p(),ut=i("ul"),ut.innerHTML=Bl,Ze=p(),tl=i("br"),el=p(),ll=i("br"),nl=p(),rt=i("h1"),rt.textContent=El,il=p(),ft=i("ul"),ft.innerHTML=Dl,this.h()},l(t){u=s(t,"H1",{"data-svelte-h":!0}),o(u)!=="svelte-bvizw"&&(u.textContent=c),v=a(t),m=s(t,"P",{"data-svelte-h":!0}),o(m)!=="svelte-1h5j855"&&(m.textContent=r),f=a(t),b=s(t,"H1",{"data-svelte-h":!0}),o(b)!=="svelte-gn8kz6"&&(b.textContent=al),xt=a(t),$=s(t,"P",{"data-svelte-h":!0}),o($)!=="svelte-1b5nqlo"&&($.textContent=ol),Ct=a(t),g=s(t,"UL",{"data-svelte-h":!0}),o(g)!=="svelte-1ifsbsh"&&(g.innerHTML=ul),wt=a(t),vt=s(t,"P",{});var l=S(vt);h(k.$$.fragment,l),l.forEach(e),$t=a(t),gt=s(t,"BR",{}),kt=a(t),A=s(t,"H2",{"data-svelte-h":!0}),o(A)!=="svelte-1srp10g"&&(A.textContent=rl),At=a(t),y=s(t,"P",{"data-svelte-h":!0}),o(y)!=="svelte-1scr1ep"&&(y.textContent=fl),yt=a(t),H=s(t,"PRE",{class:!0});var zl=S(H);Ht=Xl(zl,!1),zl.forEach(e),Wt=a(t),W=s(t,"UL",{"data-svelte-h":!0}),o(W)!=="svelte-1axuf8q"&&(W.innerHTML=ml),Lt=a(t),Mt=s(t,"BR",{}),Tt=a(t),Pt=s(t,"BR",{}),Rt=a(t),L=s(t,"H2",{"data-svelte-h":!0}),o(L)!=="svelte-1l1qlh7"&&(L.textContent=vl),jt=a(t),M=s(t,"UL",{"data-svelte-h":!0}),o(M)!=="svelte-1ewiq7o"&&(M.innerHTML=bl),Bt=a(t),Et=s(t,"BR",{}),Dt=a(t),zt=s(t,"BR",{}),qt=a(t),T=s(t,"H1",{"data-svelte-h":!0}),o(T)!=="svelte-1x149zs"&&(T.textContent=Sl),Ut=a(t),P=s(t,"UL",{"data-svelte-h":!0}),o(P)!=="svelte-178fr3h"&&(P.innerHTML=cl),Ft=a(t),bt=s(t,"P",{});var ql=S(bt);h(R.$$.fragment,ql),ql.forEach(e),dt=a(t),Ot=s(t,"BR",{}),Jt=a(t),St=s(t,"P",{});var Ul=S(St);h(j.$$.fragment,Ul),Ul.forEach(e),Nt=a(t),Qt=s(t,"BR",{}),Kt=a(t),B=s(t,"UL",{"data-svelte-h":!0}),o(B)!=="svelte-1g484b"&&(B.innerHTML=_l),Vt=a(t),Xt=s(t,"BR",{}),Yt=a(t),Zt=s(t,"BR",{}),te=a(t),E=s(t,"H2",{"data-svelte-h":!0}),o(E)!=="svelte-v5thqi"&&(E.textContent=hl),ee=a(t),D=s(t,"P",{"data-svelte-h":!0}),o(D)!=="svelte-18pqma3"&&(D.innerHTML=Il),le=a(t),ct=s(t,"P",{});var Fl=S(ct);h(z.$$.fragment,Fl),Fl.forEach(e),ne=a(t),ie=s(t,"BR",{}),se=a(t),q=s(t,"P",{"data-svelte-h":!0}),o(q)!=="svelte-q7c9ar"&&(q.textContent=Gl),pe=a(t),ae=s(t,"BR",{}),oe=a(t),ue=s(t,"BR",{}),re=a(t),U=s(t,"H2",{"data-svelte-h":!0}),o(U)!=="svelte-fc0erv"&&(U.textContent=xl),fe=a(t),F=s(t,"P",{"data-svelte-h":!0}),o(F)!=="svelte-xoquhd"&&(F.innerHTML=Cl),me=a(t),d=s(t,"H3",{"data-svelte-h":!0}),o(d)!=="svelte-m2u6f"&&(d.textContent=wl),ve=a(t),_t=s(t,"P",{});var dl=S(_t);h(O.$$.fragment,dl),dl.forEach(e),be=a(t),Se=s(t,"BR",{}),ce=a(t),J=s(t,"UL",{"data-svelte-h":!0}),o(J)!=="svelte-yafgmt"&&(J.innerHTML=$l),_e=a(t),N=s(t,"H4",{"data-svelte-h":!0}),o(N)!=="svelte-13neoe3"&&(N.textContent=gl),he=a(t),Q=s(t,"P",{"data-svelte-h":!0}),o(Q)!=="svelte-1fpdqb8"&&(Q.innerHTML=kl),Ie=a(t),K=s(t,"PRE",{class:!0});var Ol=S(K);Ge=Xl(Ol,!1),Ol.forEach(e),xe=a(t),Ce=s(t,"BR",{}),we=a(t),V=s(t,"P",{"data-svelte-h":!0}),o(V)!=="svelte-1hh00pe"&&(V.innerHTML=Al),$e=a(t),ht=s(t,"P",{});var Jl=S(ht);h(X.$$.fragment,Jl),Jl.forEach(e),ge=a(t),ke=s(t,"BR",{}),Ae=a(t),ye=s(t,"BR",{}),He=a(t),Y=s(t,"H3",{"data-svelte-h":!0}),o(Y)!=="svelte-1jfmdvo"&&(Y.textContent=yl),We=a(t),It=s(t,"P",{});var Nl=S(It);h(Z.$$.fragment,Nl),Nl.forEach(e),Le=a(t),tt=s(t,"UL",{"data-svelte-h":!0}),o(tt)!=="svelte-cinmsj"&&(tt.innerHTML=Hl),Me=a(t),Te=s(t,"BR",{}),Pe=a(t),Re=s(t,"BR",{}),je=a(t),et=s(t,"H3",{"data-svelte-h":!0}),o(et)!=="svelte-k0h9rh"&&(et.textContent=Wl),Be=a(t),Gt=s(t,"P",{});var Ql=S(Gt);h(lt.$$.fragment,Ql),Ql.forEach(e),Ee=a(t),nt=s(t,"UL",{"data-svelte-h":!0}),o(nt)!=="svelte-1f46w8x"&&(nt.innerHTML=Ll),De=a(t),ze=s(t,"BR",{}),qe=a(t),Ue=s(t,"BR",{}),Fe=a(t),it=s(t,"H2",{"data-svelte-h":!0}),o(it)!=="svelte-1xytjku"&&(it.textContent=Ml),de=a(t),st=s(t,"P",{"data-svelte-h":!0}),o(st)!=="svelte-9r53wq"&&(st.innerHTML=Tl),Oe=a(t),pt=s(t,"P",{"data-svelte-h":!0}),o(pt)!=="svelte-157keji"&&(pt.innerHTML=Pl),Je=a(t),at=s(t,"UL",{"data-svelte-h":!0}),o(at)!=="svelte-exllbm"&&(at.innerHTML=Rl),Ne=a(t),Qe=s(t,"BR",{}),Ke=a(t),Ve=s(t,"BR",{}),Xe=a(t),ot=s(t,"H1",{"data-svelte-h":!0}),o(ot)!=="svelte-1v2omnb"&&(ot.textContent=jl),Ye=a(t),ut=s(t,"UL",{"data-svelte-h":!0}),o(ut)!=="svelte-1hw2dbz"&&(ut.innerHTML=Bl),Ze=a(t),tl=s(t,"BR",{}),el=a(t),ll=s(t,"BR",{}),nl=a(t),rt=s(t,"H1",{"data-svelte-h":!0}),o(rt)!=="svelte-bn9628"&&(rt.textContent=El),il=a(t),ft=s(t,"UL",{"data-svelte-h":!0}),o(ft)!=="svelte-15s8f7e"&&(ft.innerHTML=Dl),this.h()},h(){Ht.a=null,Yl(H,"class","language-python"),Ge.a=null,Yl(K,"class","language-python")},m(t,l){n(t,u,l),n(t,v,l),n(t,m,l),n(t,f,l),n(t,b,l),n(t,xt,l),n(t,$,l),n(t,Ct,l),n(t,g,l),n(t,wt,l),n(t,vt,l),I(k,vt,null),n(t,$t,l),n(t,gt,l),n(t,kt,l),n(t,A,l),n(t,At,l),n(t,y,l),n(t,yt,l),n(t,H,l),Ht.m(en,H),n(t,Wt,l),n(t,W,l),n(t,Lt,l),n(t,Mt,l),n(t,Tt,l),n(t,Pt,l),n(t,Rt,l),n(t,L,l),n(t,jt,l),n(t,M,l),n(t,Bt,l),n(t,Et,l),n(t,Dt,l),n(t,zt,l),n(t,qt,l),n(t,T,l),n(t,Ut,l),n(t,P,l),n(t,Ft,l),n(t,bt,l),I(R,bt,null),n(t,dt,l),n(t,Ot,l),n(t,Jt,l),n(t,St,l),I(j,St,null),n(t,Nt,l),n(t,Qt,l),n(t,Kt,l),n(t,B,l),n(t,Vt,l),n(t,Xt,l),n(t,Yt,l),n(t,Zt,l),n(t,te,l),n(t,E,l),n(t,ee,l),n(t,D,l),n(t,le,l),n(t,ct,l),I(z,ct,null),n(t,ne,l),n(t,ie,l),n(t,se,l),n(t,q,l),n(t,pe,l),n(t,ae,l),n(t,oe,l),n(t,ue,l),n(t,re,l),n(t,U,l),n(t,fe,l),n(t,F,l),n(t,me,l),n(t,d,l),n(t,ve,l),n(t,_t,l),I(O,_t,null),n(t,be,l),n(t,Se,l),n(t,ce,l),n(t,J,l),n(t,_e,l),n(t,N,l),n(t,he,l),n(t,Q,l),n(t,Ie,l),n(t,K,l),Ge.m(ln,K),n(t,xe,l),n(t,Ce,l),n(t,we,l),n(t,V,l),n(t,$e,l),n(t,ht,l),I(X,ht,null),n(t,ge,l),n(t,ke,l),n(t,Ae,l),n(t,ye,l),n(t,He,l),n(t,Y,l),n(t,We,l),n(t,It,l),I(Z,It,null),n(t,Le,l),n(t,tt,l),n(t,Me,l),n(t,Te,l),n(t,Pe,l),n(t,Re,l),n(t,je,l),n(t,et,l),n(t,Be,l),n(t,Gt,l),I(lt,Gt,null),n(t,Ee,l),n(t,nt,l),n(t,De,l),n(t,ze,l),n(t,qe,l),n(t,Ue,l),n(t,Fe,l),n(t,it,l),n(t,de,l),n(t,st,l),n(t,Oe,l),n(t,pt,l),n(t,Je,l),n(t,at,l),n(t,Ne,l),n(t,Qe,l),n(t,Ke,l),n(t,Ve,l),n(t,Xe,l),n(t,ot,l),n(t,Ye,l),n(t,ut,l),n(t,Ze,l),n(t,tl,l),n(t,el,l),n(t,ll,l),n(t,nl,l),n(t,rt,l),n(t,il,l),n(t,ft,l),sl=!0},p:sn,i(t){sl||(G(k.$$.fragment,t),G(R.$$.fragment,t),G(j.$$.fragment,t),G(z.$$.fragment,t),G(O.$$.fragment,t),G(X.$$.fragment,t),G(Z.$$.fragment,t),G(lt.$$.fragment,t),sl=!0)},o(t){x(k.$$.fragment,t),x(R.$$.fragment,t),x(j.$$.fragment,t),x(z.$$.fragment,t),x(O.$$.fragment,t),x(X.$$.fragment,t),x(Z.$$.fragment,t),x(lt.$$.fragment,t),sl=!1},d(t){t&&(e(u),e(v),e(m),e(f),e(b),e(xt),e($),e(Ct),e(g),e(wt),e(vt),e($t),e(gt),e(kt),e(A),e(At),e(y),e(yt),e(H),e(Wt),e(W),e(Lt),e(Mt),e(Tt),e(Pt),e(Rt),e(L),e(jt),e(M),e(Bt),e(Et),e(Dt),e(zt),e(qt),e(T),e(Ut),e(P),e(Ft),e(bt),e(dt),e(Ot),e(Jt),e(St),e(Nt),e(Qt),e(Kt),e(B),e(Vt),e(Xt),e(Yt),e(Zt),e(te),e(E),e(ee),e(D),e(le),e(ct),e(ne),e(ie),e(se),e(q),e(pe),e(ae),e(oe),e(ue),e(re),e(U),e(fe),e(F),e(me),e(d),e(ve),e(_t),e(be),e(Se),e(ce),e(J),e(_e),e(N),e(he),e(Q),e(Ie),e(K),e(xe),e(Ce),e(we),e(V),e($e),e(ht),e(ge),e(ke),e(Ae),e(ye),e(He),e(Y),e(We),e(It),e(Le),e(tt),e(Me),e(Te),e(Pe),e(Re),e(je),e(et),e(Be),e(Gt),e(Ee),e(nt),e(De),e(ze),e(qe),e(Ue),e(Fe),e(it),e(de),e(st),e(Oe),e(pt),e(Je),e(at),e(Ne),e(Qe),e(Ke),e(Ve),e(Xe),e(ot),e(Ye),e(ut),e(Ze),e(tl),e(el),e(ll),e(nl),e(rt),e(il),e(ft)),C(k),C(R),C(j),C(z),C(O),C(X),C(Z),C(lt)}}}function fn(mt){let u,c;const v=[mt[0],tn];let m={$$slots:{default:[rn]},$$scope:{ctx:mt}};for(let r=0;r<v.length;r+=1)m=pl(m,v[r]);return u=new on({props:m}),{c(){_(u.$$.fragment)},l(r){h(u.$$.fragment,r)},m(r,f){I(u,r,f),c=!0},p(r,[f]){const b=f&1?un(v,[f&1&&Zl(r[0]),f&0&&Zl(tn)]):{};f&2&&(b.$$scope={dirty:f,ctx:r}),u.$set(b)},i(r){c||(G(u.$$.fragment,r),c=!0)},o(r){x(u.$$.fragment,r),c=!1},d(r){C(u,r)}}}const tn={emoji:"📃",title:"WSGI 와 ASGI",description:"예전에 fastapi 소개글을 썼었는데, 그 과정에서 ASGI 에 흥미로움을 느껴서 정리해봤다. WSGI 와 ASGI 의 역사와 흥미로운 사실들을 알아보자.",date:"2023-11-13",categories:["python","PEP","WSGI & ASGI"],published:!0,thumbnail:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/WSGI-와-ASGI/2023-11-13-00-00-32.png"};function mn(mt,u,c){return mt.$$set=v=>{c(0,u=pl(pl({},u),Kl(v)))},u=Kl(u),[u]}class _n extends pn{constructor(u){super(),an(this,u,mn,fn,nn,{})}}export{_n as default,tn as metadata};
