import{s as rl,n as ks}from"./scheduler.7c4769d9.js";import{S as Nl,i as Gl,g as l,s as a,H as Bs,h as p,x as i,c as u,j as ms,C as xs,f as n,k as Es,a as s}from"./index.cc557082.js";function Il(Fl){let o,vs=`Rust 를 새로 배우면서, “앞으로 Rust 를 어떻게 사용할까” 에 대해 고민을 해봤다.<br/>
Rust 가 CPP 를 대체한다면, Rust 를 잘 활용할 수 있는 분야는 어디일까?`,yt,C,fs="다양한 예시들을 살펴보면서 내가 관심을 가지게 되었던건 그래픽, 애니메이션 영역이었다.",Lt,c,bs="특히 WASM 을 통한 웹 환경에서의 그래픽 작업에 대해서 관심이 생겼다.",Tt,k,_s='<img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/snowy.gif"/>',St,B,As=`예전에 동아리 해커톤에서 진행했던 프로젝트.<br/>
HTML5 canvas 를 이용해서 눈꽃을 내려주는 프로젝트였다.`,Dt,m,ws="기존에는 JS 로 HTML5 canvas 를 조작했는데, 눈 송이 위치 계산을 Rust 로 하게 하면 성능이 좋아지지 않을까 하는 생각이 떠올랐다.",jt,x,Rs="requestAnimationFrame 을 JS 에서 매번 호출하면서 반복되는 것 역시 Rust 가 WASM 으로 수행한다면 더 성능이 좋지 않을까 하는 생각이었다.",qt,E,Ms="그래서 JS 코드를 전부 Rust-WASM 으로 재작성을 한 뒤 퍼포먼스를 비교해보기로 했다.",Ft,zt,Wt,Jt,rt,v,Ps="재작성 과정",Nt,f,Hs=`JS 코드를 Rust 로 바꾸는 과정은 생각보다는 간단했다.<br/>
몇가지 함정만 제외하면…`,Gt,It,Kt,b,ys="함정1 : Crate 미지원",Ot,_,Ls=`Rust 의 크레이트를 WASM 환경에서 사용하려면 코드가 달라지는 경우도 있었고,<br/>
심지어 아예 쓸 수 없는 패키지도 있었다.`,Qt,A,Ts="예를 들어 랜덤 값을 뽑는데 사용하는 rand 크레이트는 WASM 전용 크레이트를 별도로 깔아줘야 했다.",Ut,w,Ss="심지어 tokio 같은 비동기 런타임은 WASM 에 대한 지원이 약해서 사용할 수 없는 수준이었다.",Vt,R,Ds="WASM 컴파일을 위해서 Rust 가 가진 장점을 많이 내려놓고 가야하는 느낌이었다.",Xt,Yt,Zt,$t,ht,M,js="함정2 : JS Function",dt,P,qs="또 JS function 을 가져다 쓰는 경우 코드가 지나치게 hacky 해지는 문제도 있었다.",gt,H,Fs="Rust 만의 lifetime 개념을 JS Function 을 왔다갔다 하면서 사용하려면 이 역시 난이도가 급격히 상승한다.",te,y,zs="내 Rust 실력이 부족한 이유도 있고, 익숙해지면 더 나아지긴 하겠지만..",ee,L,Ws="Rust 를 막 배워서 바로 써먹어보려는 러린이 개발자들에게는 큰 진입장벽이 될 듯 싶다.",ne,se,le,pe,ae,T,Js="함정3 : 배포",ue,S,rs="아무래도 WASM 이 파일 형태가 css, js 처럼 익숙한 형태가 아니다보니 배포 과정에서도 어려움을 겪었다.",ie,D,Ns="webpack 에서도 별도 설정을 이것저것 해줘야 하고, 빌드 결과로 나온 wasm 파일을 서빙하는데에도 고민해봐야 할 부분이 있다.",oe,j,Gs="나 같은 경우 cdn 으로 one-line import 가 가능하게 하려했는데, wasm 파일을 다운로드 받는 방식을 어떻게 해야할지 막막했다.",Ce,q,Is="자료도 잘 없다.. 결국 webpack 의 publicPath 를 cdn 주소로 설정해서 해결하긴 했다. 다만 이걸 cdn 이 아닌 npm install 로 사용하면 오버헤드가 얼마나 있을지..",ce,F,Ks="Rust WASM 을 단순히 npm 에 배포하는건 아주아주 간단하긴 하다. wasm-pack 에서 간단하게 지원중.",ke,z,Os="그런데 간단한 배포로 원하는 결과를 가져올 수 없는 상황에서는 추상화가 많이 된 배포 환경이 답답하게 느껴질 수도 있다.",Be,me,xe,Ee,ve,W,Qs="퍼포먼스 테스트 1",fe,J,Us=`아무튼 역경을 해치며 코드를 작성한 후 테스트 시간.<br/>
육안으로는 성능 확인이 잘 안 돼서 개발자도구의 퍼포먼스 탭을 통해서 확인해보았다.`,be,r,Vs="requestAnimationFrame 마다 10개의 눈송이를 생성하는 방식으로 두 라이브러리를 모두 테스트해봤다.",_e,N,Xs="requestAnimationFrame 은 기본적으로 1초에 60번 호출되지만, 사용하는 모니터 주사율에 맞춰서 실행된다고 한다.",Ae,G,Ys="내가 사용중인 모니터는 주사율이 60Hz 여서, 1초에 600개의 눈송이를 생성한다고 볼 수 있다.",we,I,Zs='<strong>JS 초당 600 개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-10-42-18.png"/>',Re,K,$s='<strong>Rust-WASM 초당 600 개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-10-59-17.png"/>',Me,O,hs=`결과는 놀랍게도 JS 의 압승.
육안으로 볼 때 큰 차이가 없긴 해도 퍼포먼스 도구로 확인해보면 2배정도 차이가 난다.`,Pe,He,ye,Le,Te,Q,ds='<strong>JS 의 퍼포먼스 상세</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-11-01-42.png"/>',Se,U,gs='<strong>Rust-WASM 의 퍼포먼스 상세</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-11-02-19.png"/>',De,je,qe,Fe,ze,V,tl="퍼포먼스 상세를 보면 WASM 을 불러와서 실행하는데 오버헤드가 상당히 많은 걸로 보인다.",We,X,el='<img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-11-05-23.png"/>',Je,re,Ne,Ge,Ie,Y,nl=`왜 그런가 외국 러스트 커뮤니티를 돌면서 찾아보니,
js 와 wasm 사이에 상호작용이 많을 수록 오버헤드가 발생하기 쉽다고 한다.`,Ke,Z,Oe,zl=`<code class="language-rust"><span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">animation_loop</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> <span class="token keyword">mut</span> context <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token class-name">Rc</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name">RefCell</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name">None</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> g <span class="token operator">=</span> f<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">*</span>g<span class="token punctuation">.</span><span class="token function">borrow_mut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token class-name">Some</span><span class="token punctuation">(</span><span class="token class-name">Closure</span><span class="token punctuation">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token keyword">move</span> <span class="token closure-params"><span class="token closure-punctuation punctuation">|</span><span class="token closure-punctuation punctuation">|</span></span> <span class="token punctuation">&#123;</span>
        context<span class="token punctuation">.</span><span class="token function">new_snow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        context<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">request_animation_frame</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">borrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">request_animation_frame</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">borrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">as_ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unwrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code>`,Qe,Ue,Ve,$,sl="requestAnimationFrame 을 대체할 수 있는 방법이 안 보여서 Rust 에서 가져와서 사용했었는데, 이게 문제인가 싶어서 몇가지 시도를 해봤다.",Xe,Ye,Ze,$e,he,h,ll="해결시도 1번 : rust loop 사용",de,d,pl="처음 떠올린 해결책은 requestAnimationFrame 을 rust 의 loop 로 대체하기.",ge,g,tn,Wl=`<code class="language-rust"><span class="token keyword">pub</span> <span class="token keyword">fn</span> <span class="token function-definition function">animation_loop_1</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">mut</span> <span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">loop</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">new_snow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,en,nn,sn,tt,al=`그러나 무한 loop 가 실행을 blocking 하여 아예 첫 렌더링조차 되지 않았다.
<img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-11-16-29.png"/>`,ln,pn,an,et,ul="런타임을 blocking 하지 않는 비동기 루프를 실행할 수 있는 방법이 있으면 좋겠다 싶었는데,",un,nt,il="spawn_local 을 이용한 async loop 는 내 rust 실력이 부족해서 그런지 제대로 동작하지 않았다.",on,Cn,cn,kn,Bn,st,ol="해결시도 2번 : requestAnimationFrame 을 rust 바깥으로 분리",mn,lt,Cl="마찬가지로 외국 러스트 커뮤니티에서 찾은 내용인데, js 에서 requestAnimationFrame 호출을 처리하고 rust 에서는 단일 render_frame 함수만 호출하는게 더 나을 수도 있다고 한다.",xn,pt,cl='<a href="https://rustwasm.github.io/docs/book/game-of-life/implementing.html" rel="nofollow">rustwasm 에서 만든 예시</a>에도 requestAnimationFrame 은 js 에서 호출하고 rust 는 해당 루프에 들어가는 단일 메서드를 구현하는 식으로 되어있다.',En,vn,fn,at,kl=`그래서 requestAnimationFrame 을 분리해봤다.<br/>
class Snowy 는 rust 에서 작성된 struct 이다.<br/>
마찬가지로 rust 쪽에서 구현된 render_frame 을 requestAnimationFrame 내부에서 호출한다.`,bn,_n,An,ut,wn,Jl=`<code class="language-js"><span class="token keyword">const</span> snowy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Snowy</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
snowy<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    snowy<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    snowy<span class="token punctuation">.</span><span class="token function">render_frame</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span></code>`,Rn,Mn,Pn,Hn,yn,it,Bl="그러나 결과는 여전히 pure js 보다 느리다.",Ln,Tn,Sn,ot,ml='<strong>Rust-WASM 초당 600개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-14-11-25.png"/>',Dn,Ct,xl="눈송이의 위치를 계산하는게 생각보다 무거운 작업이 아니라서 wasm 을 이용하는 오버헤드가 오히려 큰 것 같다.",jn,qn,Fn,zn,Wn,Jn,rn,ct,El="퍼포먼스 테스트 2",Nn,kt,vl=`더 계산할게 많은 상황에서 어떨까 해서 1초에 6,000개, 12,000개의 눈송이를 생성하도록 바꿔봤다.
이정도 되니 여유 없이 자원을 full 로 사용하는 듯 하다.`,Gn,Bt,fl="자원을 거의 다 쓰는건 비슷한데, 육안으로 봤을 때 rust-wasm 쪽 프레임 드랍이 확실히 더 크게 느껴졌다.",In,mt,bl='<strong>JS 초당 6,000개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-14-24-35.png"/>',Kn,xt,_l='<strong>Rust-WASM 초당 6,000개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-14-24-53.png"/>',On,Qn,Un,Et,Al='<strong>JS 초당 12,000개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-14-32-43.png"/>',Vn,vt,wl='<strong>Rust-WASM 초당 12,000개 스폰</strong> <img src="https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-rust%EB%A1%9C-%EC%9E%AC%EC%9E%91%EC%84%B1-%ED%9B%84%EA%B8%B0/2024-03-29-14-33-49.png"/>',Xn,ft,Rl="어떻게 봐도 현재 내가 구현할 수 있는 코드 안에서는 Rust 쪽의 퍼포먼스가 더 안 좋았다.",Yn,Zn,$n,hn,dn,gn,ts,bt,Ml="결론",es,_t,Pl="계산이 복잡한 콘웨이의 game of life 의 경우, rust 가 더 나은 성능을 보일수도 있다고 한다. 다만 이 경우에도 규모를 크게 해야 더 나아지고, 작은 단위에서는 비슷하다고 한다.",ns,At,Hl="이번에 테스트한 애니메이션처럼 단순한 계산을 하는 경우 JS-to-WASM 에서 오는 오버헤드가 더 큰 것으로 보인다. Rust-WASM 이 JS 보다 성능이 더 떨어지는 현상이 발생했다.",ss,wt,yl=`Rust WASM 진영의 canvas 애니메이션에 대한 활용은 아직은 좀 아쉬운 것 같다.<br/>
결국은 requestAnimationFrame 을 대체할 수 있는 애니메이션 구현 방법이 Rust WASM 쪽에 필요하다고 생각… 하나, 3년전에도 같은 논의가 있었는데 아직 새로운 소식이 없는걸 보면…<br/> <strong>canvas animtaion 은 웬만하면 JS 쓰세요.</strong>`,ls,Rt,Ll="반면에 이미지 프로세싱 처럼, Blob 을 읽어서 처리하는 무거운 작업이라면 JS-to-WASM 오버헤드가 적어지고 WASM 이 더 나은성능을 보일까 싶은데 이것도 조만간 실험해서 포스팅을 해봐야겠다.",ps,Mt,Tl='오늘 테스트에 사용했던 코드는 <a href="https://github.com/Neulhan/FallingJS" rel="nofollow">깃허브 레포</a>에 배포해두었으니 혹시나 궁금하신 분이 계신다면 확인해보시길..',as,us,is,os,Cs,Pt,Sl="REF",cs,Ht,Dl='<a href="https://rustwasm.github.io/book/" rel="nofollow">https://rustwasm.github.io/book/</a> <a href="https://www.reddit.com/r/rust/comments/jwjbcd/canvas_animation_in_wasm_or_js/" rel="nofollow">https://www.reddit.com/r/rust/comments/jwjbcd/canvas_animation_in_wasm_or_js/</a>';return{c(){o=l("p"),o.innerHTML=vs,yt=a(),C=l("p"),C.textContent=fs,Lt=a(),c=l("p"),c.textContent=bs,Tt=a(),k=l("p"),k.innerHTML=_s,St=a(),B=l("p"),B.innerHTML=As,Dt=a(),m=l("p"),m.textContent=ws,jt=a(),x=l("p"),x.textContent=Rs,qt=a(),E=l("p"),E.textContent=Ms,Ft=a(),zt=l("br"),Wt=a(),Jt=l("br"),rt=a(),v=l("h2"),v.textContent=Ps,Nt=a(),f=l("p"),f.innerHTML=Hs,Gt=a(),It=l("br"),Kt=a(),b=l("h3"),b.textContent=ys,Ot=a(),_=l("p"),_.innerHTML=Ls,Qt=a(),A=l("p"),A.textContent=Ts,Ut=a(),w=l("p"),w.textContent=Ss,Vt=a(),R=l("p"),R.textContent=Ds,Xt=a(),Yt=l("br"),Zt=a(),$t=l("br"),ht=a(),M=l("h3"),M.textContent=js,dt=a(),P=l("p"),P.textContent=qs,gt=a(),H=l("p"),H.textContent=Fs,te=a(),y=l("p"),y.textContent=zs,ee=a(),L=l("p"),L.textContent=Ws,ne=a(),se=l("br"),le=a(),pe=l("br"),ae=a(),T=l("h3"),T.textContent=Js,ue=a(),S=l("p"),S.textContent=rs,ie=a(),D=l("p"),D.textContent=Ns,oe=a(),j=l("p"),j.textContent=Gs,Ce=a(),q=l("p"),q.textContent=Is,ce=a(),F=l("p"),F.textContent=Ks,ke=a(),z=l("p"),z.textContent=Os,Be=a(),me=l("br"),xe=a(),Ee=l("br"),ve=a(),W=l("h2"),W.textContent=Qs,fe=a(),J=l("p"),J.innerHTML=Us,be=a(),r=l("p"),r.textContent=Vs,_e=a(),N=l("p"),N.textContent=Xs,Ae=a(),G=l("p"),G.textContent=Ys,we=a(),I=l("p"),I.innerHTML=Zs,Re=a(),K=l("p"),K.innerHTML=$s,Me=a(),O=l("p"),O.textContent=hs,Pe=a(),He=l("br"),ye=a(),Le=l("br"),Te=a(),Q=l("p"),Q.innerHTML=ds,Se=a(),U=l("p"),U.innerHTML=gs,De=a(),je=l("br"),qe=a(),Fe=l("br"),ze=a(),V=l("p"),V.textContent=tl,We=a(),X=l("p"),X.innerHTML=el,Je=a(),re=l("br"),Ne=a(),Ge=l("br"),Ie=a(),Y=l("p"),Y.textContent=nl,Ke=a(),Z=l("pre"),Oe=new Bs(!1),Qe=a(),Ue=l("br"),Ve=a(),$=l("p"),$.textContent=sl,Xe=a(),Ye=l("br"),Ze=a(),$e=l("br"),he=a(),h=l("h3"),h.textContent=ll,de=a(),d=l("p"),d.textContent=pl,ge=a(),g=l("pre"),tn=new Bs(!1),en=a(),nn=l("br"),sn=a(),tt=l("p"),tt.innerHTML=al,ln=a(),pn=l("br"),an=a(),et=l("p"),et.textContent=ul,un=a(),nt=l("p"),nt.textContent=il,on=a(),Cn=l("br"),cn=a(),kn=l("br"),Bn=a(),st=l("h3"),st.textContent=ol,mn=a(),lt=l("p"),lt.textContent=Cl,xn=a(),pt=l("p"),pt.innerHTML=cl,En=a(),vn=l("br"),fn=a(),at=l("p"),at.innerHTML=kl,bn=a(),_n=l("br"),An=a(),ut=l("pre"),wn=new Bs(!1),Rn=a(),Mn=l("br"),Pn=a(),Hn=l("br"),yn=a(),it=l("p"),it.textContent=Bl,Ln=a(),Tn=l("br"),Sn=a(),ot=l("p"),ot.innerHTML=ml,Dn=a(),Ct=l("p"),Ct.textContent=xl,jn=a(),qn=l("br"),Fn=a(),zn=l("br"),Wn=a(),Jn=l("br"),rn=a(),ct=l("h2"),ct.textContent=El,Nn=a(),kt=l("p"),kt.textContent=vl,Gn=a(),Bt=l("p"),Bt.textContent=fl,In=a(),mt=l("p"),mt.innerHTML=bl,Kn=a(),xt=l("p"),xt.innerHTML=_l,On=a(),Qn=l("br"),Un=a(),Et=l("p"),Et.innerHTML=Al,Vn=a(),vt=l("p"),vt.innerHTML=wl,Xn=a(),ft=l("p"),ft.textContent=Rl,Yn=a(),Zn=l("br"),$n=a(),hn=l("br"),dn=a(),gn=l("br"),ts=a(),bt=l("h1"),bt.textContent=Ml,es=a(),_t=l("p"),_t.textContent=Pl,ns=a(),At=l("p"),At.textContent=Hl,ss=a(),wt=l("p"),wt.innerHTML=yl,ls=a(),Rt=l("p"),Rt.textContent=Ll,ps=a(),Mt=l("p"),Mt.innerHTML=Tl,as=a(),us=l("br"),is=a(),os=l("br"),Cs=a(),Pt=l("h3"),Pt.textContent=Sl,cs=a(),Ht=l("p"),Ht.innerHTML=Dl,this.h()},l(t){o=p(t,"P",{"data-svelte-h":!0}),i(o)!=="svelte-onyb0w"&&(o.innerHTML=vs),yt=u(t),C=p(t,"P",{"data-svelte-h":!0}),i(C)!=="svelte-zncceo"&&(C.textContent=fs),Lt=u(t),c=p(t,"P",{"data-svelte-h":!0}),i(c)!=="svelte-3y9ruy"&&(c.textContent=bs),Tt=u(t),k=p(t,"P",{"data-svelte-h":!0}),i(k)!=="svelte-jjscts"&&(k.innerHTML=_s),St=u(t),B=p(t,"P",{"data-svelte-h":!0}),i(B)!=="svelte-mahwec"&&(B.innerHTML=As),Dt=u(t),m=p(t,"P",{"data-svelte-h":!0}),i(m)!=="svelte-15oi1g2"&&(m.textContent=ws),jt=u(t),x=p(t,"P",{"data-svelte-h":!0}),i(x)!=="svelte-hmk0ig"&&(x.textContent=Rs),qt=u(t),E=p(t,"P",{"data-svelte-h":!0}),i(E)!=="svelte-10d5amg"&&(E.textContent=Ms),Ft=u(t),zt=p(t,"BR",{}),Wt=u(t),Jt=p(t,"BR",{}),rt=u(t),v=p(t,"H2",{"data-svelte-h":!0}),i(v)!=="svelte-1kecb4n"&&(v.textContent=Ps),Nt=u(t),f=p(t,"P",{"data-svelte-h":!0}),i(f)!=="svelte-1eer3l4"&&(f.innerHTML=Hs),Gt=u(t),It=p(t,"BR",{}),Kt=u(t),b=p(t,"H3",{"data-svelte-h":!0}),i(b)!=="svelte-ezp3tv"&&(b.textContent=ys),Ot=u(t),_=p(t,"P",{"data-svelte-h":!0}),i(_)!=="svelte-1g4w0m7"&&(_.innerHTML=Ls),Qt=u(t),A=p(t,"P",{"data-svelte-h":!0}),i(A)!=="svelte-15g7dqy"&&(A.textContent=Ts),Ut=u(t),w=p(t,"P",{"data-svelte-h":!0}),i(w)!=="svelte-181wnx8"&&(w.textContent=Ss),Vt=u(t),R=p(t,"P",{"data-svelte-h":!0}),i(R)!=="svelte-mnt3yy"&&(R.textContent=Ds),Xt=u(t),Yt=p(t,"BR",{}),Zt=u(t),$t=p(t,"BR",{}),ht=u(t),M=p(t,"H3",{"data-svelte-h":!0}),i(M)!=="svelte-9d2k8i"&&(M.textContent=js),dt=u(t),P=p(t,"P",{"data-svelte-h":!0}),i(P)!=="svelte-1ofb5lq"&&(P.textContent=qs),gt=u(t),H=p(t,"P",{"data-svelte-h":!0}),i(H)!=="svelte-1jyl9nc"&&(H.textContent=Fs),te=u(t),y=p(t,"P",{"data-svelte-h":!0}),i(y)!=="svelte-1th5es"&&(y.textContent=zs),ee=u(t),L=p(t,"P",{"data-svelte-h":!0}),i(L)!=="svelte-73ft5o"&&(L.textContent=Ws),ne=u(t),se=p(t,"BR",{}),le=u(t),pe=p(t,"BR",{}),ae=u(t),T=p(t,"H3",{"data-svelte-h":!0}),i(T)!=="svelte-1eso9ia"&&(T.textContent=Js),ue=u(t),S=p(t,"P",{"data-svelte-h":!0}),i(S)!=="svelte-5eibwz"&&(S.textContent=rs),ie=u(t),D=p(t,"P",{"data-svelte-h":!0}),i(D)!=="svelte-am9ji9"&&(D.textContent=Ns),oe=u(t),j=p(t,"P",{"data-svelte-h":!0}),i(j)!=="svelte-121jawa"&&(j.textContent=Gs),Ce=u(t),q=p(t,"P",{"data-svelte-h":!0}),i(q)!=="svelte-jxi8ge"&&(q.textContent=Is),ce=u(t),F=p(t,"P",{"data-svelte-h":!0}),i(F)!=="svelte-1d9gouu"&&(F.textContent=Ks),ke=u(t),z=p(t,"P",{"data-svelte-h":!0}),i(z)!=="svelte-1m09njo"&&(z.textContent=Os),Be=u(t),me=p(t,"BR",{}),xe=u(t),Ee=p(t,"BR",{}),ve=u(t),W=p(t,"H2",{"data-svelte-h":!0}),i(W)!=="svelte-1v1srbx"&&(W.textContent=Qs),fe=u(t),J=p(t,"P",{"data-svelte-h":!0}),i(J)!=="svelte-12svkjn"&&(J.innerHTML=Us),be=u(t),r=p(t,"P",{"data-svelte-h":!0}),i(r)!=="svelte-1niyqew"&&(r.textContent=Vs),_e=u(t),N=p(t,"P",{"data-svelte-h":!0}),i(N)!=="svelte-wbgpl0"&&(N.textContent=Xs),Ae=u(t),G=p(t,"P",{"data-svelte-h":!0}),i(G)!=="svelte-sxl6mu"&&(G.textContent=Ys),we=u(t),I=p(t,"P",{"data-svelte-h":!0}),i(I)!=="svelte-1lv8mlb"&&(I.innerHTML=Zs),Re=u(t),K=p(t,"P",{"data-svelte-h":!0}),i(K)!=="svelte-kr0qok"&&(K.innerHTML=$s),Me=u(t),O=p(t,"P",{"data-svelte-h":!0}),i(O)!=="svelte-71aqcl"&&(O.textContent=hs),Pe=u(t),He=p(t,"BR",{}),ye=u(t),Le=p(t,"BR",{}),Te=u(t),Q=p(t,"P",{"data-svelte-h":!0}),i(Q)!=="svelte-1qby73c"&&(Q.innerHTML=ds),Se=u(t),U=p(t,"P",{"data-svelte-h":!0}),i(U)!=="svelte-k0riyz"&&(U.innerHTML=gs),De=u(t),je=p(t,"BR",{}),qe=u(t),Fe=p(t,"BR",{}),ze=u(t),V=p(t,"P",{"data-svelte-h":!0}),i(V)!=="svelte-vc9w2q"&&(V.textContent=tl),We=u(t),X=p(t,"P",{"data-svelte-h":!0}),i(X)!=="svelte-79iimq"&&(X.innerHTML=el),Je=u(t),re=p(t,"BR",{}),Ne=u(t),Ge=p(t,"BR",{}),Ie=u(t),Y=p(t,"P",{"data-svelte-h":!0}),i(Y)!=="svelte-18rmwhk"&&(Y.textContent=nl),Ke=u(t),Z=p(t,"PRE",{class:!0});var e=ms(Z);Oe=xs(e,!1),e.forEach(n),Qe=u(t),Ue=p(t,"BR",{}),Ve=u(t),$=p(t,"P",{"data-svelte-h":!0}),i($)!=="svelte-f8zqqy"&&($.textContent=sl),Xe=u(t),Ye=p(t,"BR",{}),Ze=u(t),$e=p(t,"BR",{}),he=u(t),h=p(t,"H3",{"data-svelte-h":!0}),i(h)!=="svelte-1pti08i"&&(h.textContent=ll),de=u(t),d=p(t,"P",{"data-svelte-h":!0}),i(d)!=="svelte-b04t39"&&(d.textContent=pl),ge=u(t),g=p(t,"PRE",{class:!0});var jl=ms(g);tn=xs(jl,!1),jl.forEach(n),en=u(t),nn=p(t,"BR",{}),sn=u(t),tt=p(t,"P",{"data-svelte-h":!0}),i(tt)!=="svelte-1qzrf56"&&(tt.innerHTML=al),ln=u(t),pn=p(t,"BR",{}),an=u(t),et=p(t,"P",{"data-svelte-h":!0}),i(et)!=="svelte-1i9gf7m"&&(et.textContent=ul),un=u(t),nt=p(t,"P",{"data-svelte-h":!0}),i(nt)!=="svelte-1qgyyw8"&&(nt.textContent=il),on=u(t),Cn=p(t,"BR",{}),cn=u(t),kn=p(t,"BR",{}),Bn=u(t),st=p(t,"H3",{"data-svelte-h":!0}),i(st)!=="svelte-15yqixp"&&(st.textContent=ol),mn=u(t),lt=p(t,"P",{"data-svelte-h":!0}),i(lt)!=="svelte-b46mkv"&&(lt.textContent=Cl),xn=u(t),pt=p(t,"P",{"data-svelte-h":!0}),i(pt)!=="svelte-1g4onkf"&&(pt.innerHTML=cl),En=u(t),vn=p(t,"BR",{}),fn=u(t),at=p(t,"P",{"data-svelte-h":!0}),i(at)!=="svelte-1ymiyk8"&&(at.innerHTML=kl),bn=u(t),_n=p(t,"BR",{}),An=u(t),ut=p(t,"PRE",{class:!0});var ql=ms(ut);wn=xs(ql,!1),ql.forEach(n),Rn=u(t),Mn=p(t,"BR",{}),Pn=u(t),Hn=p(t,"BR",{}),yn=u(t),it=p(t,"P",{"data-svelte-h":!0}),i(it)!=="svelte-1angdbr"&&(it.textContent=Bl),Ln=u(t),Tn=p(t,"BR",{}),Sn=u(t),ot=p(t,"P",{"data-svelte-h":!0}),i(ot)!=="svelte-fxgawh"&&(ot.innerHTML=ml),Dn=u(t),Ct=p(t,"P",{"data-svelte-h":!0}),i(Ct)!=="svelte-ots1ko"&&(Ct.textContent=xl),jn=u(t),qn=p(t,"BR",{}),Fn=u(t),zn=p(t,"BR",{}),Wn=u(t),Jn=p(t,"BR",{}),rn=u(t),ct=p(t,"H2",{"data-svelte-h":!0}),i(ct)!=="svelte-1souyj8"&&(ct.textContent=El),Nn=u(t),kt=p(t,"P",{"data-svelte-h":!0}),i(kt)!=="svelte-qxo7es"&&(kt.textContent=vl),Gn=u(t),Bt=p(t,"P",{"data-svelte-h":!0}),i(Bt)!=="svelte-1t1ldy"&&(Bt.textContent=fl),In=u(t),mt=p(t,"P",{"data-svelte-h":!0}),i(mt)!=="svelte-1k44r92"&&(mt.innerHTML=bl),Kn=u(t),xt=p(t,"P",{"data-svelte-h":!0}),i(xt)!=="svelte-4mceb6"&&(xt.innerHTML=_l),On=u(t),Qn=p(t,"BR",{}),Un=u(t),Et=p(t,"P",{"data-svelte-h":!0}),i(Et)!=="svelte-18dodmb"&&(Et.innerHTML=Al),Vn=u(t),vt=p(t,"P",{"data-svelte-h":!0}),i(vt)!=="svelte-ri67hm"&&(vt.innerHTML=wl),Xn=u(t),ft=p(t,"P",{"data-svelte-h":!0}),i(ft)!=="svelte-nh0e3z"&&(ft.textContent=Rl),Yn=u(t),Zn=p(t,"BR",{}),$n=u(t),hn=p(t,"BR",{}),dn=u(t),gn=p(t,"BR",{}),ts=u(t),bt=p(t,"H1",{"data-svelte-h":!0}),i(bt)!=="svelte-1cwk1h0"&&(bt.textContent=Ml),es=u(t),_t=p(t,"P",{"data-svelte-h":!0}),i(_t)!=="svelte-h9urqj"&&(_t.textContent=Pl),ns=u(t),At=p(t,"P",{"data-svelte-h":!0}),i(At)!=="svelte-1hkwsgu"&&(At.textContent=Hl),ss=u(t),wt=p(t,"P",{"data-svelte-h":!0}),i(wt)!=="svelte-67a3el"&&(wt.innerHTML=yl),ls=u(t),Rt=p(t,"P",{"data-svelte-h":!0}),i(Rt)!=="svelte-bna3im"&&(Rt.textContent=Ll),ps=u(t),Mt=p(t,"P",{"data-svelte-h":!0}),i(Mt)!=="svelte-v6qoz4"&&(Mt.innerHTML=Tl),as=u(t),us=p(t,"BR",{}),is=u(t),os=p(t,"BR",{}),Cs=u(t),Pt=p(t,"H3",{"data-svelte-h":!0}),i(Pt)!=="svelte-11131cl"&&(Pt.textContent=Sl),cs=u(t),Ht=p(t,"P",{"data-svelte-h":!0}),i(Ht)!=="svelte-1b3rfvw"&&(Ht.innerHTML=Dl),this.h()},h(){Oe.a=null,Es(Z,"class","language-rust"),tn.a=null,Es(g,"class","language-rust"),wn.a=null,Es(ut,"class","language-js")},m(t,e){s(t,o,e),s(t,yt,e),s(t,C,e),s(t,Lt,e),s(t,c,e),s(t,Tt,e),s(t,k,e),s(t,St,e),s(t,B,e),s(t,Dt,e),s(t,m,e),s(t,jt,e),s(t,x,e),s(t,qt,e),s(t,E,e),s(t,Ft,e),s(t,zt,e),s(t,Wt,e),s(t,Jt,e),s(t,rt,e),s(t,v,e),s(t,Nt,e),s(t,f,e),s(t,Gt,e),s(t,It,e),s(t,Kt,e),s(t,b,e),s(t,Ot,e),s(t,_,e),s(t,Qt,e),s(t,A,e),s(t,Ut,e),s(t,w,e),s(t,Vt,e),s(t,R,e),s(t,Xt,e),s(t,Yt,e),s(t,Zt,e),s(t,$t,e),s(t,ht,e),s(t,M,e),s(t,dt,e),s(t,P,e),s(t,gt,e),s(t,H,e),s(t,te,e),s(t,y,e),s(t,ee,e),s(t,L,e),s(t,ne,e),s(t,se,e),s(t,le,e),s(t,pe,e),s(t,ae,e),s(t,T,e),s(t,ue,e),s(t,S,e),s(t,ie,e),s(t,D,e),s(t,oe,e),s(t,j,e),s(t,Ce,e),s(t,q,e),s(t,ce,e),s(t,F,e),s(t,ke,e),s(t,z,e),s(t,Be,e),s(t,me,e),s(t,xe,e),s(t,Ee,e),s(t,ve,e),s(t,W,e),s(t,fe,e),s(t,J,e),s(t,be,e),s(t,r,e),s(t,_e,e),s(t,N,e),s(t,Ae,e),s(t,G,e),s(t,we,e),s(t,I,e),s(t,Re,e),s(t,K,e),s(t,Me,e),s(t,O,e),s(t,Pe,e),s(t,He,e),s(t,ye,e),s(t,Le,e),s(t,Te,e),s(t,Q,e),s(t,Se,e),s(t,U,e),s(t,De,e),s(t,je,e),s(t,qe,e),s(t,Fe,e),s(t,ze,e),s(t,V,e),s(t,We,e),s(t,X,e),s(t,Je,e),s(t,re,e),s(t,Ne,e),s(t,Ge,e),s(t,Ie,e),s(t,Y,e),s(t,Ke,e),s(t,Z,e),Oe.m(zl,Z),s(t,Qe,e),s(t,Ue,e),s(t,Ve,e),s(t,$,e),s(t,Xe,e),s(t,Ye,e),s(t,Ze,e),s(t,$e,e),s(t,he,e),s(t,h,e),s(t,de,e),s(t,d,e),s(t,ge,e),s(t,g,e),tn.m(Wl,g),s(t,en,e),s(t,nn,e),s(t,sn,e),s(t,tt,e),s(t,ln,e),s(t,pn,e),s(t,an,e),s(t,et,e),s(t,un,e),s(t,nt,e),s(t,on,e),s(t,Cn,e),s(t,cn,e),s(t,kn,e),s(t,Bn,e),s(t,st,e),s(t,mn,e),s(t,lt,e),s(t,xn,e),s(t,pt,e),s(t,En,e),s(t,vn,e),s(t,fn,e),s(t,at,e),s(t,bn,e),s(t,_n,e),s(t,An,e),s(t,ut,e),wn.m(Jl,ut),s(t,Rn,e),s(t,Mn,e),s(t,Pn,e),s(t,Hn,e),s(t,yn,e),s(t,it,e),s(t,Ln,e),s(t,Tn,e),s(t,Sn,e),s(t,ot,e),s(t,Dn,e),s(t,Ct,e),s(t,jn,e),s(t,qn,e),s(t,Fn,e),s(t,zn,e),s(t,Wn,e),s(t,Jn,e),s(t,rn,e),s(t,ct,e),s(t,Nn,e),s(t,kt,e),s(t,Gn,e),s(t,Bt,e),s(t,In,e),s(t,mt,e),s(t,Kn,e),s(t,xt,e),s(t,On,e),s(t,Qn,e),s(t,Un,e),s(t,Et,e),s(t,Vn,e),s(t,vt,e),s(t,Xn,e),s(t,ft,e),s(t,Yn,e),s(t,Zn,e),s(t,$n,e),s(t,hn,e),s(t,dn,e),s(t,gn,e),s(t,ts,e),s(t,bt,e),s(t,es,e),s(t,_t,e),s(t,ns,e),s(t,At,e),s(t,ss,e),s(t,wt,e),s(t,ls,e),s(t,Rt,e),s(t,ps,e),s(t,Mt,e),s(t,as,e),s(t,us,e),s(t,is,e),s(t,os,e),s(t,Cs,e),s(t,Pt,e),s(t,cs,e),s(t,Ht,e)},p:ks,i:ks,o:ks,d(t){t&&(n(o),n(yt),n(C),n(Lt),n(c),n(Tt),n(k),n(St),n(B),n(Dt),n(m),n(jt),n(x),n(qt),n(E),n(Ft),n(zt),n(Wt),n(Jt),n(rt),n(v),n(Nt),n(f),n(Gt),n(It),n(Kt),n(b),n(Ot),n(_),n(Qt),n(A),n(Ut),n(w),n(Vt),n(R),n(Xt),n(Yt),n(Zt),n($t),n(ht),n(M),n(dt),n(P),n(gt),n(H),n(te),n(y),n(ee),n(L),n(ne),n(se),n(le),n(pe),n(ae),n(T),n(ue),n(S),n(ie),n(D),n(oe),n(j),n(Ce),n(q),n(ce),n(F),n(ke),n(z),n(Be),n(me),n(xe),n(Ee),n(ve),n(W),n(fe),n(J),n(be),n(r),n(_e),n(N),n(Ae),n(G),n(we),n(I),n(Re),n(K),n(Me),n(O),n(Pe),n(He),n(ye),n(Le),n(Te),n(Q),n(Se),n(U),n(De),n(je),n(qe),n(Fe),n(ze),n(V),n(We),n(X),n(Je),n(re),n(Ne),n(Ge),n(Ie),n(Y),n(Ke),n(Z),n(Qe),n(Ue),n(Ve),n($),n(Xe),n(Ye),n(Ze),n($e),n(he),n(h),n(de),n(d),n(ge),n(g),n(en),n(nn),n(sn),n(tt),n(ln),n(pn),n(an),n(et),n(un),n(nt),n(on),n(Cn),n(cn),n(kn),n(Bn),n(st),n(mn),n(lt),n(xn),n(pt),n(En),n(vn),n(fn),n(at),n(bn),n(_n),n(An),n(ut),n(Rn),n(Mn),n(Pn),n(Hn),n(yn),n(it),n(Ln),n(Tn),n(Sn),n(ot),n(Dn),n(Ct),n(jn),n(qn),n(Fn),n(zn),n(Wn),n(Jn),n(rn),n(ct),n(Nn),n(kt),n(Gn),n(Bt),n(In),n(mt),n(Kn),n(xt),n(On),n(Qn),n(Un),n(Et),n(Vn),n(vt),n(Xn),n(ft),n(Yn),n(Zn),n($n),n(hn),n(dn),n(gn),n(ts),n(bt),n(es),n(_t),n(ns),n(At),n(ss),n(wt),n(ls),n(Rt),n(ps),n(Mt),n(as),n(us),n(is),n(os),n(Cs),n(Pt),n(cs),n(Ht))}}}const Ql={emoji:"❄️",title:"JS 라이브러리 Rust로 재작성 후기",description:"JS 코드를 Rust 로 바꾸는 과정은 생각보다는 간단했다. 몇가지 함정만 제외하면... Rust 의 크레이트를 WASM 환경에서 사용하려면 코드가 달라지는 경우도 있었고, 심지어 아예 쓸 수 없는 패키지도 있었다.",date:"2024-03-31",categories:["rust","wasm","canvas","animation"],published:!0,thumbnail:"https://neulhan-blog.s3.ap-northeast-2.amazonaws.com/images/js라이브러리-rust로-재작성-후기/snowy.gif"};class Ul extends Nl{constructor(o){super(),Gl(this,o,null,Il,rl,{})}}export{Ul as default,Ql as metadata};
